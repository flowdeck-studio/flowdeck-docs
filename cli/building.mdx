---
title: "Building & Running"
description: "Build and run iOS/macOS apps from the command line"
---

FlowDeck CLI provides powerful build and run capabilities optimized for command-line workflows and CI/CD integration.

## Building Your App

<Tip>
  Use the --config option to pass a set of pre-defined parameters\
  \
  To generate a Configuration file, use the 'W' option in FlowDeck interactive mode
</Tip>

### Basic Build

```bash
# Stateless build (requires workspace, scheme, and target)
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16"
```

### Build for macOS

Use `--device "My Mac"` for macOS targets:

```bash
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --device "My Mac"
```

### Build for Physical Device

Use `--device` with the device name or UDID:

```bash
# By device name (partial match, case-insensitive)
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --device "iPhone"
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --device "John's iPhone"

# By device UDID (exact match)
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --device "00008130-001245110C08001C"
```

<Tip>
Use `flowdeck device list` to see available devices and their UDIDs.
</Tip>

### Build Configurations

Specify Debug or Release configuration:

```bash
# Debug build (default)
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16" --configuration Debug

# Release build
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16" --configuration Release
```

### Scheme Selection

The `--scheme` parameter specifies which scheme to build:

```bash
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16"
```

<Tip>
Use `flowdeck context --json` to discover available schemes in your workspace.
</Tip>

<Info>
For the complete list of build options, see the [Build Command Reference](/cli/commands/build).
</Info>

## Running Your App

### Build and Run on Simulator

```bash
flowdeck run --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16"
```

This command:

1. Builds the app
2. Opens Simulator.app (if iOS)
3. Boots the simulator (or uses already running)
4. Installs the app
5. Launches the app

### Build and Run on macOS

```bash
flowdeck run --workspace MyApp.xcworkspace --scheme MyApp --device "My Mac"
```

### Build and Run on Physical Device

```bash
flowdeck run --workspace MyApp.xcworkspace --scheme MyApp --device "John's iPhone"
```

<Info>
For the complete list of run options including `--interactive` and `--wait-for-debugger`, see the [Run Command Reference](/cli/commands/build#flowdeck-run).
</Info>

### Run with Log Streaming

Stream OSLog output after launching:

```bash
flowdeck run --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16" --log
```

### Example Output

```
ðŸ”¨ Building MyApp for simulator...
âœ… Build succeeded!

ðŸ“± Opening Simulator.app...
ðŸ“± Booting simulator (12345678-1234-1234-1234-123456789ABC)...
âœ“ Simulator ready
ðŸ“¦ Installing app on simulator...
ðŸš€ Launching com.example.MyApp...

âœ… App launched successfully!
ðŸ’¡ Process ID (PID): 54321
ðŸ’¡ Bundle ID: com.example.MyApp
ðŸ’¡ Simulator: 12345678-1234-1234-1234-123456789ABC
```

## JSON Output for Automation

Use `--json` for machine-readable output:

```bash
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16" --json
```

This outputs NDJSON (newline-delimited JSON) events:

```json
{"type":"app_log","message":"Build Started"}
{"type":"app_log","message":"Resolving Packages"}
{"type":"app_log","message":"Building"}
{"type":"app_log","message":"Build Completed"}
```

### Parsing JSON Output

```bash
# Get build status
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16" --json | jq -s 'last'

# Check for errors
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16" --json | jq 'select(.level == "error")'
```

## Custom Derived Data

Specify a custom derived data path to avoid conflicts with Xcode:

```bash
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16" \
  --derived-data-path ~/FlowDeck/DerivedData
```

## Cleaning

Clean build artifacts before rebuilding:

```bash
flowdeck clean --workspace MyApp.xcworkspace --scheme MyApp
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16"
```

## Performance Optimization

FlowDeck CLI automatically:

- Detects CPU core count for parallel builds
- Uses optimized build settings
- Enables incremental compilation

## Troubleshooting

### "Workspace not found"

Ensure you're specifying the correct path:

```bash
# Use full path if needed
flowdeck build --workspace /path/to/MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16"

# Or navigate to the project directory first
cd ~/Projects/MyApp
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16"
```

### "Scheme not found"

Use `flowdeck context --json` to discover available schemes:

```bash
flowdeck context --json | jq '.schemes'
```

### "Simulator not found"

List available simulators first:

```bash
flowdeck simulator list --platform iOS --available-only
```

### "Build failed"

Try cleaning and rebuilding:

```bash
flowdeck clean --workspace MyApp.xcworkspace --scheme MyApp
flowdeck build --workspace MyApp.xcworkspace --scheme MyApp --simulator "iPhone 16"
```

Check the error output for specific issues like missing dependencies or code signing problems.
